# Virtual Goldberg 300 – Коды ошибок

Версия: v0.1

Этот документ описывает коды ошибок, которые может выдавать ядро стерилизатора и отображать UI.

## 1. Общая структура

Каждая ошибка описывается:

- `code` — машинночитаемый код (enum `ErrorCode`);
- `message` — базовое сообщение для оператора;
- `severity` — уровень важности (`warning` | `error`);
- `category` — модуль/подсистема (`pressure`, `temperature`, `vacuum`, `water`, `door`, `sensor`, `power`);
- `description` — подробное описание для документации;
- `operatorAction` — что должен сделать оператор;
- `serviceAction` — что должен сделать инженер/сервис.

## 2. Список кодов ошибок

### 2.1. HEATING_TIMEOUT

- `code`: `HEATING_TIMEOUT`
- `message`: «Не удалось достичь температуры стерилизации»
- `severity`: `error`
- `category`: `temperature`
- `Описание`:
  Нагрев камеры до заданной температуры стерилизации занял больше допустимого времени.
- `Действия оператора`:
  - Проверить загрузку камеры (не перегружена ли).
  - Повторить цикл.
  - При повторном возникновении ошибки вызвать сервис.
- `Действия сервиса`:
  - Проверить работоспособность ТЭНов/парогенератора.
  - Проверить датчик температуры камеры.
  - Проверить параметры питающей сети.

---

### 2.2. OVERPRESSURE

- `code`: `OVERPRESSURE`
- `message`: «Избыточное давление в камере»
- `severity`: `error`
- `category`: `pressure`
- `Описание`:
  Давление в камере превысило максимально допустимый порог.
- `Действия оператора`:
  - Не открывать дверь до снятия аварийного сообщения.
  - Дождаться завершения аварийного сброса давления.
  - Сообщить сервисному инженеру.
- `Действия сервиса`:
  - Проверить корректность работы клапана сброса.
  - Проверить датчик давления.
  - Проверить лог работы цикла.

---

### 2.3. OVERTEMP

- `code`: `OVERTEMP`
- `message`: «Превышение температуры»
- `severity`: `error`
- `category`: `temperature`
- `Описание`:
  Температура превысила допустимый предел для текущей фазы.
- `Действия оператора`:
  - Дождаться остановки цикла.
  - Не открывать дверь до разрешения.
  - Сообщить сервису.
- `Действия сервиса`:
  - Проверить датчик температуры.
  - Проверить алгоритм управления нагревом и параметры ТЭНов.

---

### 2.4. NO_WATER

- `code`: `NO_WATER`
- `message`: «Недостаточно воды в парогенераторе»
- `severity`: `error`
- `category`: `water`
- `Описание`:
  Уровень воды в парогенераторе ниже порогового значения.
- `Действия оператора`:
  - Проверить подачу воды.
  - Заполнить систему по инструкции.
- `Действия сервиса`:
  - Проверить датчик уровня воды.
  - Проверить работу насоса наполнения.

---

### 2.5. VACUUM_FAIL

- `code`: `VACUUM_FAIL`
- `message`: «Не удалось достичь вакуума»
- `severity`: `error`
- `category`: `vacuum`
- `Описание`:
  В течение заданного времени не был достигнут необходимый уровень вакуума.
- `Действия оператора`:
  - Проверить, плотно ли закрыта дверь.
  - При повторных ошибках сообщить сервису.
- `Действия сервиса`:
  - Проверить вакуумный насос.
  - Проверить герметичность камеры (уплотнители, клапаны).
  - Проверить работу датчика давления.

---

### 2.6. SENSOR_FAILURE

- `code`: `SENSOR_FAILURE`
- `message`: «Ошибка датчика»
- `severity`: `error`
- `category`: `sensor`
- `Описание`:
  Обнаружены некорректные показания одного из датчиков (температура, давление, уровень воды).
- `Действия оператора`:
  - Остановить использование аппарата до проверки сервисом.
- `Действия сервиса`:
  - Проверить соединения датчика.
  - Проверить сам датчик и его калибровку.
  - При необходимости заменить датчик.

---

### 2.7. DOOR_OPEN

- `code`: `DOOR_OPEN`
- `message`: «Дверь открыта / не заблокирована»
- `severity`: `error`
- `category`: `door`
- `Описание`:
  Попытка запуска цикла при открытой или незаблокированной двери.
- `Действия оператора`:
  - Закрыть дверь и убедиться в надёжной блокировке.
- `Действия сервиса`:
  - Проверить датчик положения двери и механизм блокировки.

---

### 2.8. POWER_ERROR

- `code`: `POWER_ERROR`
- `message`: «Ошибка питания»
- `severity`: `error`
- `category`: `power`
- `Описание`:
  Нарушение параметров питающей сети или внутреннего питания.
- `Действия оператора`:
  - Проверить наличие питания.
  - При повторении ошибки сообщить сервису.
- `Действия сервиса`:
  - Проверить блок питания, вводной автомат.
  - Проверить клеммные соединения.

---

При необходимости список может быть расширен под конкретную реализацию. UI должен использовать `code` как ключ, а тексты/описания — из этого файла/конфигурации.
